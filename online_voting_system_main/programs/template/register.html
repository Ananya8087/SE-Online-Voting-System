<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nep Election | Register </title>
    <link rel="stylesheet" type="text/css" href="{{url_for('static', filename='css/style.css')}}">
    <style>
        /* Style for the alert symbol */
        .alert-symbol {
            color: red;
            font-size: 20px;
            margin-right: 5px;
        }
    </style>
</head>

<body>

    <div class="registerbox">
        <img src="{{url_for('static', filename='user.png')}}" class="avatar">
        <h1>Register</h1>
        <label style="color:white">{{ msg }}</label>
        <form action="{{ url_for('Register') }}" method="post" onsubmit="return validateForm()">
            <input type="text" name="fname" placeholder="Enter first name ">
            <input type="text" name="mname" placeholder="Enter middle name (optional)">
            <input type="text" name="lname" placeholder="Enter lname">
            <div class="list">
                <label for="genders">Gender</label>
                <select name="gender" id="gender">
                    <option value="Male">Male</option>
                    <option value="Female">Female</option>
                </select>
            </div>
            <div class="list">
                <label for="birthday">Birthdate</label>
                <input type="date" id="birthday" name="birthdate">
            </div>
            <input type="text" name="citizenship" id="aadhar" placeholder="Aadhar No.">
            <span class="alert-symbol" id="aadharAlertSymbol">&#9888;</span>
            <input type="text" name="province" placeholder="Province">
            <input type="text" name="district" placeholder="District">
            <input type="text" name="municipality" placeholder="Municipality">
            <input type="text" name="ward" placeholder="Ward No.">

            <input type="email" name="email" placeholder="Enter email">
            <input type="password" name="password" placeholder="Enter password">
            <input type="number" name="phone" placeholder="Enter phone no.">
            <div class="list">
                <label for="role">Register as</label>
                <select name="role" id="role">
                    <option value="voter">Voter</option>
                    <option value="candidate">Candidate</option>
                </select>
            </div>
            <input type="text" name="education" placeholder="Education (for candidate only)">
            <input type="text" name="party" placeholder="Group Name (for candidate only)">
            <input type="Submit" name="submit" value="Register">
        </form>
    </div>

    <script>
        // JavaScript function to validate the form
        function validateForm() {
            var mandatoryFields = ['fname', 'lname', 'gender', 'birthdate', 'citizenship', 'province', 'district', 'municipality', 'ward', 'email', 'password', 'phone', 'role'];

            for (var i = 0; i < mandatoryFields.length; i++) {
                var field = document.getElementsByName(mandatoryFields[i])[0];

                if (!field.value) {
                    // Show the trigger alert box
                    alert('Please fill the mandatory field: ' + field.placeholder);
                    return false; // Prevent form submission
                }
            }

            // Validate Aadhar number separately
            var aadharInput = document.getElementById('aadhar');
            if (aadharInput.value.length !== 12 || isNaN(aadharInput.value)) {
                // Show the trigger alert box for Aadhar
                alert('Please enter a valid 12-digit Aadhar number.');
                return false; // Prevent form submission
            }

            return true; // Allow form submission
        }
    </script>
</body>

</html>
